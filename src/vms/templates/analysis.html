{% extends "base.html" %}

{% block title %}Analysis{% endblock %}

{% block content %}
    <h1 class="text-6xl font-bold">Analysis</h1>
    <p class="text-4xl">Fragmented: <span id="fragmented">0</span></p>
    <p class="text-4xl">Survived: <span id="survived">0</span></p>
    <p class="text-4xl">Survival Ratio: <span id="ratio">0</span></p>

    <script>
        let fragmented = 0;
        let survived = 0;

        const fragmentedElement = document.getElementById('fragmented');
        const survivedElement = document.getElementById('survived');
        const ratioElement = document.getElementById('ratio');

        function updateCounters() {
            if (Math.random() < 0.5) {
                fragmented++;
            } else {
                survived++;
            }
            const ratio = survived / (fragmented + survived);

            fragmentedElement.textContent = fragmented;
            survivedElement.textContent = survived;
            ratioElement.textContent = ratio.toFixed(5);
        }

        setInterval(updateCounters, 1000);
    </script>
{% endblock %}
